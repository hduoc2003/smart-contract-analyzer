<VirtualHost *:80>
    ServerName localhost

    # Cấu hình đường dẫn static frontend
    DocumentRoot /var/www/apache-flask/frontend/out

    # Cấu hình Log
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # Cấu hình Socket
    <Location /socket.io>
        ProxyPass ws://localhost:5000/socket.io
        ProxyPassReverse ws://localhost:5000/socket.io
    </Location>

    # Cấu hình server backend
    # WSGIDaemonProcess apache-flask processes=4 threads=20 python-path=/var/www/apache-flask
    # WSGIProcessGroup apache-flask
    # WSGIScriptAlias /api /var/www/apache-flask/apache-flask.wsgi

    # Forward đến server backend
    <Location /api>
        ProxyPass http://localhost:5000/api
        ProxyPassReverse http://localhost:5000/api
    </Location>

    <Directory /var/www/apache-flask/>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

</VirtualHost>
